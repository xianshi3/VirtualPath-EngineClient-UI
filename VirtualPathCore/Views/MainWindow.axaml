<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:VirtualPathCore.ViewModels"
        xmlns:views="clr-namespace:VirtualPathCore.Views"
        xmlns:components="clr-namespace:VirtualPathCore.Views.Components"
        x:Class="VirtualPathCore.Views.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Icon="/Assets/Logo.png"
        Title="VirtualPathCore"
        WindowState="Maximized">

	<Grid Background="#1E1E1E">
		<Grid.RowDefinitions>
			<RowDefinition Height="Auto"/>
			<RowDefinition Height="*"/>
		</Grid.RowDefinitions>

		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="250"/>
			<ColumnDefinition Width="*"/>
			<ColumnDefinition Width="250"/>
		</Grid.ColumnDefinitions>

		<!-- 封装后的菜单栏组件 -->
		<components:AppMenu Grid.ColumnSpan="3" Grid.Row="0"
							ToggleSidebarClicked="ToggleSidebar"
							ToggleDockClicked="ToggleDock"/>

		<!-- 左侧项目文件夹树 -->
		<Border x:Name="SidebarBorder" Background="#333333" Grid.Row="1" Grid.Column="0" CornerRadius="5" Margin="5">
			<views:ProjectFolderTree DataContext="{Binding}" />
		</Border>

		<!-- 内容区 -->
		<Border x:Name="ContentBorder" Background="#222222" Grid.Row="1" Grid.Column="1" CornerRadius="5" Margin="5">
			<views:MainView />
		</Border>

		<!-- 右侧 AI 聊天面板 -->
		<Border x:Name="AIChatBorder" Background="#333333" Grid.Row="1" Grid.Column="2" CornerRadius="5" Margin="5">
			<views:AIChatPanel DataContext="{Binding}" />
		</Border>
	</Grid>
</Window>
